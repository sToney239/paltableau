---
title: "Basic-usage"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Basic-usage}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(ggplot2)
library(paltableau)
```

## Functions

> This package provides supplementary functions to `ggplot2` and is inpired by `ggthemes`, which provides tableau palette and and several functions.

The main functions in this package is something like `scale_fill_tableau_gradient`, 

where `fill/color` depends on aesthetics values are mapped onto,

and the suffixes include:

 - discrete
 - gradient
 - gradient2
 - binned_gradient
 - binned_gradient2
 
> Actually the `binned_gradient2` function is quite similar to `binned_gradient`, just for the convenience of thinking, this function is created.

Supported parameters in these functions include 
 
  - `direction` (which could used to reverse the palette)
  - `start`, `end` (which could be used to define where the palette color range starts or ends) 
  - ...

## Palettes

Palette is usually the first parameter of color related aesthetics scale functions in this package. The method for selecting a palette is designed to align with the auto-complete characteristics of RStudio. Once you have to provide palette parameter, you could just

 - type `pal_tableau` and type the dollar operator `$`
 - select one of `regular`, `sequential` and `diverging`. Then type `$`
  - select the desired related color palette

This way of palette selection doesn't require users to memorize the name string exactly, would be much user-friendly.


```{r,echo=FALSE, fig.show='hide'}

the_pal_list = pal_tableau$sequential
the_names = names(the_pal_list)
y_scale_factor = 1.5

result_list <- list()
for (i in seq_along(the_pal_list)) {
  tbll <- the_pal_list[[i]]
  namee <- the_names[i]
  
  tbll$type <- namee
  tbll$end <- seq_len(nrow(tbll))
  tbll$start <- tbll$end - 1
  tbll[["name"]] <- NULL
  
  result_list[[i]] <- tbll
}
plot_data <- do.call(rbind, result_list)
plot_data[["y"]] = y_scale_factor * as.numeric(factor(plot_data[["type"]], levels = rev(the_names)))
plot_data[["ymax"]] = plot_data[["y"]] + 0.45 * y_scale_factor
plot_data[["ymin"]] = plot_data[["y"]] - 0.45 * y_scale_factor
plot_data[["type"]] = factor(plot_data[["type"]],levels = rev(the_names))
plot_breaks = y_scale_factor * seq.int(length(the_names))
plot_data <- plot_data[plot_data$type != "gray_warm", ]

ggplot(plot_data)+
  geom_rect(aes(xmax = end, xmin = start, 
                ymax = ymax, ymin = ymin,
                fill = value))+
  scale_y_continuous(breaks = plot_breaks,
                     labels = rev(the_names))+
  scale_fill_identity() +
  theme_void()+
  theme(axis.text.y = element_text(hjust = 0))

```



The palettes in this package is mainly from `Tableau` and `CARTO`. 

